<script>

(function(){
	
let wizard = {};					//宣告法寶
wizard.answer=0;//正確答案
wizard.setAnswer=function(){
	this.answer=Math.floor(Math.random()*10);
};	//搖骰子
wizard.getAnswer=function(){
	return this.answer;
};	//取得答案

wizard.isHit = function(answer,guess){
	if( answer == guess ){
		return true;
	}	else {
		return false;
	}	
};//判斷猜中與否

wizard.showMsg = function(flag){
	if(flag){ //flag==true
		alert('中');	
	}	else 	{ //flag==false
		alert('不中');	
	}	
};//展示結果

wizard.getGuess=function(){
	return prompt("猜個數(0-9)","0");
};//取得猜的數

/*	Can play only once
wizard.runGame=function(){
	let answer=this.getAnswer();
	let	guess=this.getGuess();
	let	isHit=this.isHit(answer,guess);
	this.showMsg(isHit);
};	//執行遊戲，一次為限
*/
wizard.init=function(){
	this.setAnswer();
	this.runGame();
};//啟動遊戲

wizard.init();
/* Max turn is 5.
wizard.runGame=function(){
	let answer=this.getAnswer();
	let times=0, maxTimes=5, guess, isHit;//Times;
	for(times,times<maxTimes;times++){
		guess=this.getGuess();
		isHit=this.isHit(answer,guess);
		this.showMsg(isHit);
		if (isHit==true) {
			break;
		}//一旦猜中就停止車輪戰
	}
};	//執行遊戲，五次為限
*/
wizard.runGame=function(){
	let guess, isHit=false;
	let answer=this.getAnswer();
	while(!isHit){
		guess = this.getGuess();
		isHit = this.isHit(answer,guess);
		this.showMsg(isHit);
	}
};//執行遊戲，不限次數
/*
wizard.runGame=function(){
	let answer=this.getAnswer();
	let isHit=false;
	do {
		guess = this.getGuess();
		isHit = this.isHit(answer,guess);
		this.showMsg(isHit);
	} while (!isHit)
};//執行遊戲，不限次數
*/
})();
</script>
