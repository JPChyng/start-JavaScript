<table id="calendar" border="0"></table>
<table border="0">
	<tr>
		<th>Sun.</th>
		<th>Mon.</th>
		<th>Tue.</th>
		<th>Wed.</th>
		<th>Thu.</th>
		<th>Fri.</th>
		<th>Sat.</th>
	</tr>
	<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
</table>
<script>

/*
function Calendar(name){
	this.name=name;
	this.init= function(){
		let aTable = document.createElement('table');
		let a = document.createAttribute("id");
		a.value = name;
		aTable.setAttributeNode(a);
		
		let parent = document.querySelector('body');
		document.appendChild(aTable);
	};
	this.setTitle = function(){
		let newRow=this.calendar.insertRow(-1);
		cells=['Sun.','Mon.','Tue.','Wed.','Thu.','Fri.','Sat.'];
		cells.forEach(function(element){
			newRow.insertCell().textContent=element;
		});
	};
	this.insertRow = function(cells){
		let newRow=this.calendar.insertRow(-1);
		cells.forEach(function(element){
			newRow.insertCell().textContent=element;
		});
	};
	
}

const myCalendar = new Calendar('calendar');
myCalendar.init();
myCalendar.setTitle();
myCalendar.insertRow([1,2,3,4,5,6,7]);
//myCalendar.rows[1].cells[0].textContent=1;
//myCalendar.rows[1].cells[1].textContent=2;
//myCalendar.rows[1].cells[2].textContent=3;
//myCalendar.rows[1].cells[3].textContent=4;
//myCalendar.rows[1].cells[4].textContent=5;
//myCalendar.rows[1].cells[5].textContent=6;
//myCalendar.rows[1].cells[6].textContent=7;
*/


let calendar = document.querySelectorAll('table')[1];


let today		= new Date();
let thisYear 	= today.getFullYear();
let thisMonth 	= today.getMonth();
let firstDay	= new Date(thisYear,thisMonth).getDay();
let length		= getMonthDays(thisYear,thisMonth);
//let day=0,w,d;

for (let i=0,day=0,w,d;i<length;i++){
	day=i+firstDay;
	w = Math.ceil((1+day)/7);
	d = Math.ceil(day%7);
	if (day>6) {day = 0;}
	
//	console.log(calendar.rows[w].cells[d]);
	calendar.rows[w].cells[d].textContent=i+1;
}

function getMonthDays(year,month){
	let daysPerMonth=[31,28,31,30,31,30,31,31,30,31,30,31];

	if (isLeapYear()==true) {
		daysPerMonth[1]=29;
	}

	return daysPerMonth[month];
}

function isLeapYear(thisYear){
	if (((thisYear %4 == 0) && (thisYear %100 != 0)) || (thisYear %400 == 0)){
		return true;
	}
	return false;
}

</script>
